<form [formGroup]="commentFormGroup" class="comment-form">
  <mat-form-field class="comment-text" appearance="fill">
    <mat-label>Leave a comment</mat-label>
    <input matInput formControlName="text" type="text" placeholder="Enter your comment">
  </mat-form-field>

  <div class="submit-block">
    <button mat-raised-button color="primary" type="submit" [disabled]="!commentFormGroup.valid"
            (click)="submit()">Comment
    </button>
  </div>

  <div *ngIf="text.invalid && text.touched" class="alert-danger w-40">
    <div *ngIf="text.errors?.required">
      Comment text is required
    </div>
    <div *ngIf="text.errors?.maxlength !== undefined
      && text.errors?.maxlength.requiredLength < text.errors?.maxlength.actualLength">
      Comment max length is {{ text.errors?.maxlength.requiredLength }} characters
    </div>
    <div *ngIf="text.errors?.serverError">
      {{ text.errors?.serverError }}
    </div>
  </div>
  <br class="clearBoth"/>
</form>
