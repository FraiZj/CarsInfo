
  <!-- <select formControlName="brandId">
    <option value="" disabled>Choose car brand</option>
    <option *ngFor="let brand of brands$ | async" [ngValue]="brand.id">{{ brand.name }}</option>
 </select> -->

 <form [formGroup]="carEditorForm" style="margin-left: 30px;">
  <div>
   <mat-form-field class="car-editor-input" appearance="fill">
     <mat-label>Choose car brand</mat-label>
     <mat-select formControlName="brandId">
      <mat-option *ngFor="let brand of brands$ | async" [value]="brand.id">
        {{ brand.name }}
      </mat-option>
      <div>
        <div [formGroup]="brandEditorForm" style="display: inline-block; padding-bottom: 10px; margin: 0 0 0 16px; width: 220px;">
          <input matInput formControlName="brand" type="text" id="" placeholder="Add new brand" name="brandName">
        </div>
        <div style="display: inline-block;">
          <mat-icon class="clickable" aria-hidden="false" aria-label="Add new brand" (click)="addNewBrand()">add</mat-icon>
        </div>
      </div>
     </mat-select>
   </mat-form-field>
  </div>

  <div>
    <mat-form-field class="car-editor-input" appearance="fill">
      <mat-label for="model">Model</mat-label>
      <input matInput id="model" type="text" formControlName="model">
    </mat-form-field>
  </div>

   <div>
     <mat-form-field class="car-editor-input" appearance="fill">
       <mat-label for="description">Description</mat-label>
       <textarea style="max-height: 200px; min-height: 30px;" maxlength="150" matInput id="description" type="text" formControlName="description"></textarea>
     </mat-form-field>
   </div>

   <div formArrayName="carPicturesUrls">
    <button class="car-editor-input" [disabled]="!canAddCarPicture" mat-stroked-button color="primary" (click)="addCarPicture()">+ Add car picture</button>
    <div *ngFor="let carPicture of carPicturesUrls.controls; let i=index">
      <mat-form-field style="width: 220px;">
        <mat-label >Car picture url</mat-label>
        <input matInput id="carPicture-{{ i }}" type="url" [formControlName]="i">
      </mat-form-field>
      <mat-icon class="clickable" (click)="removeCarPicture(i)" aria-hidden="false" aria-label="Remove car picture field">close</mat-icon>
    </div>
  </div>

   <div style="padding-top: 10px;">
     <button class="car-editor-input" mat-raised-button color="primary" type="submit" [disabled]="!carEditorForm.valid" (click)="onSubmit()">Create</button>
   </div>
  </form>
